---
title: "Data Cleaning"
author: "Cameron Erdman"
date: "7/9/2021"
output: html_document
---

```{r setup, include=FALSE}
library(tidyverse)
setwd("~/R/Insider_Trading")
```

```{r loading data, include=F}
inside <- read_csv("Data/OpenInsider_all_original.csv")
```

```{r cleaning data}
inside <- inside[,-1]
colnames(inside)[9] <- "Pct_Change_in_Number_Owned"
inside$Price <- as.numeric(gsub('[$,]', '', inside$Price))
# p or s as factor
# ticker as factor
inside$Quantity <- as.numeric(gsub('[,]', '', inside$Quantity))
inside$Value <- as.numeric(gsub('[$,]', '', inside$Value))
inside$Change_in_Number_Owned <- as.numeric(gsub('[%,]', '', inside$Change_in_Number_Owned))/100
# change as a two parter, percent and new or not
```

```{r saving data}
write_csv(inside, file = "Data/OpenInsider_all.csv")
```

